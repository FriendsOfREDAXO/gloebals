{"version":3,"sources":["be/textareawithtabs.js"],"names":["gloebals_textareawithtabs","init","$","document","on","keydown.gloebals","e","keyCode","shiftKey","jumpToPreviousTab","this","insertTextAtCursor","insertLinebreakAtCursor","el","range","val","value","selectionStart","selectionEnd","before","slice","matches","match","console","log","selection","createRange","focus","collapse","select","text","endIndex","length","proxy"],"mappings":"AAAA,GAAIA,4BAEAC,KAAO,WAGHC,EAAEC,UAAUC,IACRC,mBAAqB,SAASC,GAE1B,OAAOA,EAAEC,SAEL,IAAK,GASD,MARGD,GAAEE,SAEDR,0BAA0BS,kBAAkBC,MAI5CV,0BAA0BW,mBAAmBD,KAAM,OAEhD,CAEX,KAAK,QAKd,4BAGPE,wBAA0B,SAAUC,GAChC,OAAO,GA0BXJ,kBAAoB,SAASI,GAEzB,GAA8BC,GAA1BC,EAAMF,EAAGG,KACmB,oBAArBH,GAAGI,gBAA2D,mBAAnBJ,GAAGK,cAErDC,OAASJ,EAAIK,MAAM,EAAGP,EAAGI,gBAEzBI,QAAUF,OAAOG,MAAK,qBACtBC,QAAQC,IAAIH,UAEsB,mBAAtBlB,UAASsB,WAAqE,mBAAlCtB,UAASsB,UAAUC,cAE3Eb,EAAGc,QACHb,EAAQX,SAASsB,UAAUC,cAC3BZ,EAAMc,UAAS,GACfL,QAAQC,IAAG,SACXD,QAAQC,IAAIV,GACZA,EAAMe,WAIdlB,mBAAqB,SAAUE,EAAIiB,GAC/B,GAAoBC,GAAUjB,EAA1BC,EAAMF,EAAGG,KACmB,oBAArBH,GAAGI,gBAA2D,mBAAnBJ,GAAGK,cAErDa,EAAWlB,EAAGK,aACdL,EAAGG,MAAQD,EAAIK,MAAM,EAAGP,EAAGI,gBAAkBa,EAAOf,EAAIK,MAAMW,GAC9DlB,EAAGI,eAAiBJ,EAAGK,aAAea,EAAWD,EAAKE,QAEpB,mBAAtB7B,UAASsB,WAAqE,mBAAlCtB,UAASsB,UAAUC,cAE3Eb,EAAGc,QACHb,EAAQX,SAASsB,UAAUC,cAC3BZ,EAAMc,UAAS,GACfd,EAAMgB,KAAOA,EACbhB,EAAMe,WAKlB3B,GAAEC,UAAUC,GAAE,iBAAmBF,EAAE+B,MAAMjC,0BAA0BC,KAAMD","file":"be.js","sourcesContent":["var gloebals_textareawithtabs = {\n    /* This has to be updated so we can use TABS in code textareas more comfortably */\n    init : function()\n    {\n\n        $(document).on({\n            'keydown.gloebals' : function(e)\n            {\n                switch(e.keyCode)\n                {\n                    case 9 :\n                        if(e.shiftKey)\n                        {\n                            gloebals_textareawithtabs.jumpToPreviousTab(this);\n                        }\n                        else\n                        {\n                            gloebals_textareawithtabs.insertTextAtCursor(this, \"  \");\n                        }\n                        return false;\n                        break;\n                    case 13 :\n                        // return gloebals_textareawithtabs.insertLinebreakAtCursor(this);\n                        break;\n                }\n            }\n        }, 'textarea.gloebals--code');\n    },\n\n    insertLinebreakAtCursor : function (el) {\n        return true;\n        var val = el.value, endIndex, range;\n        if (typeof el.selectionStart != \"undefined\" && typeof el.selectionEnd != \"undefined\")\n        {\n            before = val.slice(0, el.selectionStart);\n            matches = before.match(/(\\n|^)(\\t+|\\s+)?[^\\n]+$/);\n            console.log(matches);\n            if(matches && typeof(matches[2]) != 'undefined')\n            {\n                this.insertTextAtCursor(el, \"\\n\" + matches[2]);\n                return false;\n            }\n        }\n        else if (typeof document.selection != \"undefined\" && typeof document.selection.createRange != \"undefined\")\n        {\n            el.focus();\n            range = document.selection.createRange();\n            range.collapse(false);\n            console.log(\"RANGE\");\n            console.log(range);\n            range.select();\n        }\n\n        return true;\n    },\n\n    jumpToPreviousTab : function(el)\n    {\n        var val = el.value, endIndex, range;\n        if (typeof el.selectionStart != \"undefined\" && typeof el.selectionEnd != \"undefined\")\n        {\n            before = val.slice(0, el.selectionStart);\n\n            matches = before.match(/(\\n|^)(.*)[^\\n]+$/);\n            console.log(matches);\n        }\n        else if (typeof document.selection != \"undefined\" && typeof document.selection.createRange != \"undefined\")\n        {\n            el.focus();\n            range = document.selection.createRange();\n            range.collapse(false);\n            console.log(\"RANGE\");\n            console.log(range);\n            range.select();\n        }\n    },\n\n    insertTextAtCursor : function (el, text) {\n        var val = el.value, endIndex, range;\n        if (typeof el.selectionStart != \"undefined\" && typeof el.selectionEnd != \"undefined\")\n        {\n            endIndex = el.selectionEnd;\n            el.value = val.slice(0, el.selectionStart) + text + val.slice(endIndex);\n            el.selectionStart = el.selectionEnd = endIndex + text.length;\n        }\n        else if (typeof document.selection != \"undefined\" && typeof document.selection.createRange != \"undefined\")\n        {\n            el.focus();\n            range = document.selection.createRange();\n            range.collapse(false);\n            range.text = text;\n            range.select();\n        }\n    }\n}\n\n$(document).on('ready.gloebals', $.proxy(gloebals_textareawithtabs.init, gloebals_textareawithtabs));\n"]}